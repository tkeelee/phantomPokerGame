# 幻影扑克游戏 (Phantom Poker Game)

这是一个多人在线扑克牌游戏，玩家可以创建房间、加入游戏，通过声明和实际出牌的差异来进行博弈。

## 系统架构

该项目是基于Spring Boot构建的Web应用程序，使用以下技术：

- **后端**：Spring Boot、WebSocket、Spring JPA
- **前端**：HTML、CSS、JavaScript、jQuery、SockJS、STOMP
- **数据持久化**：H2数据库（内存模式）

### 关键组件

- **GameService**：处理游戏核心逻辑
- **WebSocket控制器**：处理实时游戏通信
- **游戏状态模型**：管理游戏状态和规则验证

## 环境要求

- JDK 11+
- Maven 3.6+

## 安装指南

1. 克隆仓库：

```bash
git clone https://github.com/yourusername/phantomPokerGame.git
cd phantomPokerGame
```

2. 编译项目：

```bash
mvn clean package
```

3. 运行应用：

```bash
java -jar target/poker-0.0.1-SNAPSHOT.jar
```

4. 访问游戏：

```
http://localhost:8080
```

## 游戏规则详解

### 1. 基本概念

**幻影扑克**是一种多人扑克牌游戏，混合了出牌和心理博弈的元素。在游戏中，玩家可以"声明"自己出的牌，而这个声明可能是真实的，也可能是虚假的。其他玩家需要决定是相信这个声明，还是挑战（质疑）它。

### 2. 游戏目标

尽快打完手中所有牌（打完以后无人质疑或被质疑失败或其他玩家出牌，才算胜利），按打完手牌顺序排名。游戏进行到只剩下最后一个玩家还有手牌时才算结束，最后一个玩家是最后一名。

### 3. 游戏准备

1. 2-6名玩家可以参与游戏
2. 游戏使用1-3副标准扑克牌（52张牌+大小王）
3. 每名玩家开局获得均等数量的随机牌

### 4. 游戏流程

#### 创建/加入房间
1. 玩家可以创建新房间或加入现有房间
2. 房主设定游戏参数（如牌堆数量）
3. 所有玩家准备就绪后，房主可以开始游戏

#### 游戏回合
1. **出牌阶段**：
   - 首轮由房主先出牌，可以自由选择任意牌出。
   - 玩家出牌时必须"声明"自己打出的是什么牌（例如："2张8"，表示打出2张8）。
   - 玩家可以实际打出声明的牌，也可以打出任何其他牌（即"说谎"）。
   - **重要规则**：在一轮出牌中，如果前一位玩家已经出牌并声明了特定的牌值（如"8"），那么下一位玩家如果选择出牌，必须声明相同的牌值，除非所有其他玩家都选择了"过"。

2. **玩家行动选择**：
   当轮到一位玩家行动时，他可以选择以下三种行动之一：
   - **出牌**：按照上述规则出牌并声明。
   - **过牌**：选择不出牌，回合继续到下一位玩家。
   - **质疑**：挑战前一位出牌玩家的声明，检查他实际出的牌是否与声明一致。

3. **质疑结果**：
   - 如果质疑成功（前一位玩家说谎），则前一位玩家拿走所有已出的牌，质疑者获得出牌权。
   - 如果质疑失败（前一位玩家没说谎），则质疑者拿走所有已出的牌，被质疑的玩家获得出牌权。
   - 无论质疑成功与否，新的一轮开始，获得出牌权的玩家可以自由选择任意牌值出牌。

4. **过牌规则**：
   - 如果所有其他玩家都选择"过"，最后一个出牌的玩家将获得新一轮的出牌权。
   - 此时，这位玩家可以自由选择新的牌值进行出牌。

### 5. 特殊规则

1. **王牌**：大小王可以替代任何牌值。
2. **一轮结束**：当有玩家质疑或所有玩家都过牌后，当前轮结束，开始新的一轮。
3. **游戏结束**：当只剩下最后一个玩家还有手牌时，游戏结束。玩家按照打完手牌的顺序排名，最后剩下手牌的玩家为最后一名。注意：玩家打完手牌后，必须等到无人质疑或被质疑失败或其他玩家出牌，才算成功出完手牌。

### 6. 游戏策略提示

- **平衡真假**：不要总是说谎，也不要总是诚实。保持不可预测性是关键。
- **观察对手**：注意其他玩家的行为模式，寻找可能的说谎迹象。
- **牌数管理**：尽量在适当时机多出牌，减少手牌数量。
- **选择性质疑**：不要轻易质疑，除非你有充分的理由怀疑对方在说谎。
- **合理过牌**：有时候过牌是明智的选择，特别是当你手中没有与当前声明匹配的牌时。

### 7. 界面操作指南

1. **登录界面**：
   - 输入您的昵称并创建/加入房间

2. **游戏大厅**：
   - 左侧查看房间内的玩家
   - 右侧聊天区域可与其他玩家交流
   - 中央显示游戏状态和最近出牌记录

3. **游戏操作**：
   - 点击牌以选择要出的牌
   - 使用"出牌"按钮确认您的选择并声明
   - 使用"过牌"按钮跳过您的回合
   - 使用"质疑"按钮挑战前一位玩家的声明

4. **游戏信息**：
   - 顶部状态栏显示当前玩家和游戏进度
   - 中央区域显示最近打出的牌
   - 底部显示您的手牌

## 贡献指南

欢迎贡献代码、报告问题或提出改进建议。请遵循以下步骤：

1. Fork项目
2. 创建功能分支 (`git checkout -b feature/AmazingFeature`)
3. 提交更改 (`git commit -m 'Add some AmazingFeature'`)
4. 推送到分支 (`git push origin feature/AmazingFeature`)
5. 开启Pull Request

## 许可证

本项目采用MIT许可证 - 详情请参阅LICENSE文件

## 联系方式

如有任何问题或建议，请通过以下方式联系我们：

- 电子邮件：[your.email@example.com](mailto:your.email@example.com)
- GitHub Issues：[project-issues-link](https://github.com/yourusername/phantomPokerGame/issues) 