# 幻影扑克游戏 - 游戏说明手册

## 游戏简介

**幻影扑克**是一款刺激有趣的多人扑克牌游戏，玩家可以通过说谎和识破对手的谎言来获胜。游戏融合了传统扑克和"说谎者"游戏的元素，需要玩家具备策略思维和心理洞察力。这是一个基于WebSocket的多人扑克牌游戏，支持实时对战和机器人对战。玩家可以在游戏中创建房间、加入房间、进行游戏，并支持添加机器人玩家来丰富游戏体验。

## 游戏目标

尽快打完手中所有牌（打完以后无人质疑或被质疑失败或其他玩家出牌，才算胜利），按打完手牌顺序排名。游戏进行到只剩下最后一个玩家还有手牌时才算结束，最后一个玩家是最后一名。

## 基本规则

### 开始游戏

1. **登录游戏**：输入您的昵称
2. **创建或加入房间**：您可以创建新房间或加入好友的房间
3. **准备开始**：点击"准备"按钮，等待房主开始游戏
4. **游戏开始**：当所有玩家都准备就绪后，房主可以开始游戏

### 游戏流程详解

#### 出牌规则

1. **出牌声明**：
   - 每次出牌时，您必须声明自己打出了什么牌（例如："我出2张7"）
   - 声明的牌值必须与上一位玩家相同（如果该轮已有人出牌）
   - 您可以打出任意牌，不一定要与自己的声明相符（即可以"说谎"）

2. **玩家行动**：
   轮到您行动时，您有三种选择：
   - **出牌**：选择要打出的牌，并进行声明
   - **过牌**：选择不出牌，轮到下一位玩家
   - **质疑**：如果您认为上一位玩家在说谎，可以挑战他的声明

3. **重要限制**:
   - 如果上一位玩家已经出牌并声明了牌值（如"7"），那么您必须声明相同的牌值
   - 只有在其他玩家都选择"过牌"的情况下，本轮最后出牌的玩家才能更改声明的牌值

#### 质疑机制

1. **发起质疑**：
   - 点击"质疑"按钮挑战上一位玩家的声明
   - 系统会检查上一位玩家出的牌是否与其声明相符

2. **质疑结果**：
   - **质疑成功**（对方说谎）：被质疑的玩家必须拿走所有已出的牌到自己手中，您获得出牌权
   - **质疑失败**（对方诚实）：您必须拿走所有已出的牌到自己手中，被质疑的玩家获得出牌权

#### 过牌规则

1. **过牌后果**：
   - 选择"过牌"后，您本轮不再有出牌机会，直到下一轮开始
   - 如果轮到您时，您选择了过牌，游戏继续到下一位玩家

2. **全部过牌**：
   - 如果除最后一位出牌的玩家外，所有玩家都选择过牌
   - 最后出牌的玩家获得新一轮的出牌权，可以自由选择新的牌值

### 特殊规则

1. **王牌规则**：
   - 大王和小王可以替代任何牌值
   - 在质疑时，王牌被视为与声明的牌值相符

2. **回合结束条件**：
   - 有玩家质疑（无论成功与否）
   - 除最后出牌者外所有玩家都过牌

3. **游戏结束条件**：
   - 当只剩下最后一个玩家还有手牌时，游戏结束
   - 玩家按照打完手牌的顺序排名，最后剩下手牌的玩家为最后一名
   - 注意：玩家打完手牌后，必须等到无人质疑或被质疑失败或其他玩家出牌，才算成功出完手牌

## 游戏界面指南

### 界面元素说明

1. **顶部状态栏**：
   - 显示游戏名称
   - 当前游戏状态（等待中/准备中/游戏中）
   - "准备/取消准备"按钮

2. **中央游戏区**：
   - 显示当前出的牌堆
   - 上一次的声明信息
   - 当前玩家提示

3. **右侧信息区**：
   - 显示所有在线玩家及其状态
   - 聊天窗口，可与其他玩家交流

4. **底部操作区**：
   - 显示您的手牌
   - 游戏操作按钮（出牌/过牌/质疑）
   - 牌值声明选择器

### 操作方法

1. **选择牌**：
   - 点击您手中的牌可以选择/取消选择
   - 选中的牌会有高亮效果

2. **出牌**：
   - 选择要出的牌
   - 填写声明信息（几张什么牌）
   - 点击"出牌"按钮确认

3. **过牌**：
   - 直接点击"过牌"按钮

4. **质疑**：
   - 点击"质疑"按钮挑战上一位玩家

## 游戏技巧

### 初学者技巧

1. **观察对手行为**：
   - 注意其他玩家的犹豫时间
   - 关注语气变化和聊天内容中的线索

2. **平衡真假**：
   - 不要总是说谎，也不要总是说实话
   - 保持自己的不可预测性

3. **管理手牌**：
   - 尽量一次性多出牌
   - 优先出手中数量多的牌值

### 高级策略

1. **心理战术**：
   - 有时可以故意表现出犹豫，即使手中有好牌
   - 在关键时刻做出意想不到的行动

2. **计牌技巧**：
   - 记住已经出过的牌值和数量
   - 推测其他玩家可能持有的牌

3. **判断时机**：
   - 学会在正确的时机选择质疑
   - 观察玩家手牌数量，预测他们的行动

## 常见问题

**问：我可以出几张牌？**  
答：您可以一次出任意数量的牌，但必须声明是几张特定数值的牌。

**问：可以质疑任何人吗？**  
答：只能质疑上一个出牌的玩家。

**问：所有人都过牌后会发生什么？**  
答：如果除了最后出牌的玩家外所有人都过牌，那么最后出牌的玩家获得新一轮的出牌权，可以自由选择新的牌值。

**问：什么时候算游戏结束？**  
答：当只剩下最后一个玩家还有手牌时，游戏结束。注意，玩家打完手牌后，必须等到无人质疑或被质疑失败或其他玩家出牌，才算成功出完手牌。

**问：游戏卡住了怎么办？**  
答：尝试刷新页面，如果问题持续存在，请联系游戏管理员。

**问：我可以中途加入游戏吗？**  
答：只能在游戏开始前加入房间，游戏开始后需等待当前游戏结束。

## 祝您游戏愉快！

记住，幻影扑克游戏的乐趣在于心理博弈和策略思考。无论胜负，享受游戏过程才是最重要的！

## 机器人系统
游戏支持添加机器人玩家，为游戏增添更多乐趣。机器人具有以下特点：

### 机器人难度级别
1. 简单模式 (EASY)
   - 出牌策略较为保守
   - 较少质疑其他玩家
   - 说谎概率较高（70%）
   - 反应时间较长（2秒）

2. 中等模式 (MEDIUM)
   - 平衡的出牌策略
   - 适中的质疑频率
   - 说谎概率中等（50%）
   - 反应时间适中（1.5秒）

3. 困难模式 (HARD)
   - 智能的出牌策略
   - 频繁质疑可疑的声明
   - 较少说谎（30%）
   - 反应时间较短（1秒）

### 机器人行为特点
1. 出牌策略
   - 优先选择手牌中数量最多的牌
   - 根据难度调整出牌数量
   - 在需要说谎时选择最优的牌值

2. 质疑策略
   - 根据手牌情况调整质疑概率
   - 手牌较少时更倾向于质疑
   - 对不合理的声明（如数量超过4）更可能质疑
   - 困难模式下会考虑更多因素

3. 声明策略
   - 根据难度设置不同的说谎概率
   - 说谎时选择手牌中数量较多的牌值
   - 困难模式下更倾向于说实话

### 机器人管理
1. 添加机器人
   - 只有房主可以添加机器人
   - 只能在游戏等待状态添加
   - 可以设置机器人数量和难度
   - 添加后不能超过房间最大玩家数

2. 移除机器人
   - 只有房主可以移除机器人
   - 只能在游戏等待状态移除
   - 移除后不会影响游戏进行

## 游戏操作
1. 创建房间
   - 点击"创建房间"按钮
   - 设置房间名称和最大玩家数
   - 创建成功后自动成为房主

2. 加入房间
   - 在房间列表中选择要加入的房间
   - 点击"加入房间"按钮
   - 等待房主开始游戏

3. 添加机器人
   - 房主在等待状态下可以添加机器人
   - 选择机器人数量和难度
   - 确认添加后机器人会自动加入游戏

4. 开始游戏
   - 所有玩家准备后，房主可以开始游戏
   - 系统自动发牌
   - 房主先手出牌

5. 游戏进行
   - 轮到自己时可以选择出牌或过牌
   - 出牌时需要选择牌和声明点数
   - 其他玩家可以选择质疑
   - 游戏继续进行直到有玩家获胜

## 游戏界面
1. 房间列表
   - 显示所有可加入的房间
   - 显示每个房间的玩家数量和状态
   - 可以创建新房间或加入已有房间

2. 游戏房间
   - 显示所有玩家和他们的手牌
   - 显示当前牌堆和最后声明
   - 显示当前玩家和游戏状态
   - 提供出牌、过牌、质疑等操作按钮

3. 机器人信息
   - 显示机器人的难度级别
   - 显示机器人的操作状态
   - 显示机器人的出牌和声明

## 注意事项
1. 游戏进行中不能添加或移除机器人
2. 机器人操作会有一定延迟，让玩家能看清其行为
3. 机器人的行为完全由系统控制，不受玩家影响
4. 游戏结束后可以重新添加或移除机器人

## 技术说明
1. 游戏使用WebSocket实现实时通信
2. 机器人AI基于概率和策略进行决策
3. 支持多房间同时进行游戏
4. 游戏状态实时同步到所有玩家 