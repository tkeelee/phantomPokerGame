<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <title>幻影扑克 - 房间大厅</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/common.css"/>
    <script src="plugins/jQuery/jquery-1.8.3.min.js"></script>
    <script src="plugins/placeholder/placeholder.js"></script>
    <script src="plugins/layer/layer.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/sockjs-client/1.5.0/sockjs.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.min.js"></script>
</head>
<body class="lobby-page">
    <div class="lobby-container">
        <div class="lobby-header">
            <h1>幻影扑克</h1>
            <div class="user-info">
                <span id="playerName"></span>
                <button onclick="logout()" class="btn btn-outline-danger">退出</button>
            </div>
        </div>
        
        <div class="lobby-content">
            <div class="room-list-section">
                <div class="section-header">
                    <h2>房间列表</h2>
                    <button onclick="showCreateRoomModal()" class="btn btn-primary" style="white-space: nowrap;">创建房间</button>
                </div>
                <div id="roomList" class="room-list">
                    <div id="loadingIndicator" class="text-center p-4">
                        <div class="spinner-border text-primary" role="status">
                            <span class="visually-hidden">加载中...</span>
                        </div>
                        <p class="mt-2">正在连接服务器...</p>
                    </div>
                </div>
            </div>
            
            <div class="player-list-section">
                <div class="section-header">
                    <h2>在线玩家</h2>
                </div>
                <div id="playerList" class="player-list"></div>
            </div>
        </div>
    </div>

    <!-- 创建房间模态框 -->
    <div class="modal fade" id="createRoomModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">创建房间</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <label class="form-label">房间名称</label>
                        <input type="text" id="roomName" class="form-control" placeholder="请输入房间名称">
                    </div>
                    <div class="mb-3">
                        <label class="form-label">最大玩家数</label>
                        <select id="maxPlayers" class="form-select">
                            <option value="2">2人</option>
                            <option value="3">3人</option>
                            <option value="4">4人</option>
                        </select>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">取消</button>
                    <button onclick="createRoom()" class="btn btn-primary">创建</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/lobby.js"></script>
</body>
</html> 